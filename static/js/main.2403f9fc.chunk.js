(this["webpackJsonpminesweeper-game"]=this["webpackJsonpminesweeper-game"]||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},15:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),s=(a(15),a(3),a(2)),u=a(8),i=a(9);var l=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(!1),f=Object(s.a)(l,2),m=f[0],d=f[1],v=Object(n.useState)(!1),b=Object(s.a)(v,2),h=b[0],O=(b[1],e.uncoverCell),j=e.markCell,E=e.row,g=e.col,w=e.mine,p=e.count,k=e.status,y=e.cell;Object(n.useEffect)((function(){console.log(k)}),[E,g,w,p,k,y]),Object(n.useEffect)((function(){var e;return r&&!m&&(e=setTimeout((function(){console.log("in callback"+E+","+g),r&&N()}),1e3)),function(){clearTimeout(e)}}),[j,1e3,r]);var N=function(){j(E,g,"hidden"===k?"marked":"hidden",h),d(!0),setTimeout((function(){d(!1)}),500)},S=function(e){switch(e.type){case"mousedown":o(!0);break;case"mouseup":case"mouseleave":o(!1);break;case"touchstart":o(!0);break;case"touchend":o(!1);break;case"click":m||O(E,g);break;case"contextmenu":e.preventDefault(),N()}};return c.a.createElement("div",{onClick:S,onContextMenu:S,onMouseDown:S,onMouseUp:S,onMouseLeave:S,onTouchStart:S,onTouchEnd:S,className:"grid-cell".concat("-"+k)},"shown"===k&&c.a.createElement("div",{className:"grid-cell-count"},p),"marked"===k&&c.a.createElement("div",{className:"grid-cell-count"},c.a.createElement(u.a,{icon:i.a})))};var f=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],u=Object(n.useState)(0),i=Object(s.a)(u,2),l=i[0],f=i[1],m=0,d=e.gameType,v=e.setGameType,b=e.flagsLeft,h=e.startGame;Object(n.useEffect)((function(){h?O():j()}),[h]),Object(n.useEffect)((function(){}),[l]);var O=function(){o(setInterval((function(){m++,f(m)}),1e3))},j=function(){r&&window.clearInterval(r)},E=function(e){v(e.target&&e.target.value)};return c.a.createElement("div",{className:"game-header"},c.a.createElement("div",{className:"game-header-dificulty"},c.a.createElement("select",{className:"game-header-difficulty-dropdown",value:d,onChange:E},c.a.createElement("option",{value:"easy"},"Easy"),c.a.createElement("option",{value:"hard"},"Hard"))),c.a.createElement("div",{className:"game-header-flags"},"Flags:"," "+b),c.a.createElement("div",{className:"game-header-time"},"Time:"," "+("000"+l).substr(-3)))};var m=function(e){var t=Object(n.useState)("easy"),a=Object(s.a)(t,2),r=a[0],o=a[1],u=Object(n.useState)([]),i=Object(s.a)(u,2),m=i[0],d=i[1],v=Object(n.useState)(0),b=Object(s.a)(v,2),h=b[0],O=b[1],j=Object(n.useState)(0),E=Object(s.a)(j,2),g=E[0],w=E[1],p=Object(n.useState)(10),k=Object(s.a)(p,2),y=k[0],N=k[1],S=Object(n.useState)(!1),C=Object(s.a)(S,2),M=C[0],T=C[1],G=Object(n.useState)(!1),H=Object(s.a)(G,2),L=H[0],x=H[1],D=Object(n.useState)(!1),I=Object(s.a)(D,2),W=I[0],A=I[1],B={cols:10,rows:8,mines:10},F={cols:18,rows:14,mines:40};Object(n.useEffect)((function(){}),[W,A]),Object(n.useEffect)((function(){}),[r,o]),Object(n.useEffect)((function(){}),[h,O]),Object(n.useEffect)((function(){}),[g,w]),Object(n.useEffect)((function(){M&&z("lost")}),[M,T]),Object(n.useEffect)((function(){L&&z("won")}),[L,x]),Object(n.useEffect)((function(){}),[m,d]);var J=function(e,t){var a=[Math.ceil(e),Math.floor(t)];return t=a[1],(e=a[0])+Math.floor(Math.random()*(t-e+1))},Y=function(e,t){var a="easy"===r?B:F;return e>=0&&e<a.rows&&t>=0&&t<a.cols},U=function(e,t){for(var a,n,c=0,r=-1;r<=1;r++)for(var o=-1;o<=1;o++)c+=Y(a=e+r,n=t+o)&&(m[a][n].mine?1:0);return c},X=function(e,t){if(0===h&&(!function(e,t){for(var a="easy"===r?B:F,n=a.rows,c=a.cols,o=[],u=0;u<n;u++)for(var i=0;i<c;i++)(Math.abs(e-u)>2||Math.abs(t-i)>2)&&o.push([u,i]);N(Math.min(y,o.length));for(var l=0;l<y;l++){var f=J(l,o.length-1),d=[o[f],o[l]];o[l]=d[0],o[f]=d[1];var v=Object(s.a)(o[l],2),b=v[0],h=v[1];m[b][h].mine=!0}for(var O=0;O<n;O++)for(var j=0;j<c;j++)"marked"===m[O][j].status&&(m[O][j].status="hidden"),m[O][j].count=U(O,j)}(e,t),A(!0)),"hidden"!==m[e][t].status)return!1;!function e(t,a,n){Y(t,a)&&"hidden"===m[t][a].status&&(m[t][a].status="shown",O(h+1),0===m[t][a].count&&(e(t-1,a-1,n),e(t-1,a,n),e(t-1,a+1,n),e(t,a-1,n),e(t,a+1,n),e(t+1,a-1,n),e(t+1,a,n),e(t+1,a+1,n)))}(e,t,0),m[e][t].mine&&T(!0);var a="easy"===r?B:F,n=a.rows,c=a.cols;return function(){for(var e="easy"===r?B:F,t=e.rows,a=e.cols,n=0,c=0;c<t;c+=1)for(var o=0;o<a;o+=1)"shown"===m[c][o].status&&n++;return n}()+y===n*c&&x(!0),!0},$=function(e,t,a){return!!Y(e,t)&&("shown"!==m[e][t].status&&(m[e][t].status=a,w(g+("marked"==m[e][t].status?1:-1)),!0))},q=function(e,t){for(var a=[],n=0,r=0;r<e;r+=1){a.push([]);for(var o=0;o<t;o+=1)a[r].push(c.a.createElement(l,{key:n,uncoverCell:X,markCell:$,row:r,col:o,mine:m[r][o].mine,status:m[r][o].status,count:m[r][o].count,cell:m[r][o]})),n++}return a},z=function(e){d("lost"===e?c.a.createElement("div",{onClick:function(){return P()},className:"end-game"},"You Lost!!! ;( Click here to play again."):c.a.createElement("div",{className:"end-game",onClick:function(){return P()}},"You WON!!! AHHH XD Click here to play again."))},K=function(){for(var e="easy"===r?B:F,t=e.rows,a=e.cols,n=0;n<t;n+=1){m.push([]);for(var o=0;o<a;o+=1)m[n].push({row:n,col:o,mine:!1,status:"hidden",count:0})}return c.a.createElement("div",{className:r+"-grid-container"},q(t,a))},P=function(){T(!1),x(!1),w(0),O(0),d([]),K()};return c.a.createElement(n.Fragment,null,!L&&!M&&c.a.createElement(f,{gameType:r,setGameType:function(e){var t=("easy"===e?B:F).mines;P(),o(e),N(t)},flagsLeft:y-g,startGame:W}),function(){if((M||L)&&m&&"div"===m.type)return m;if(0===m.length)return K();var e="easy"===r?B:F,t=e.rows,a=e.cols;return c.a.createElement("div",{className:r+"-grid-container"},q(t,a))}())};var d=function(){return Object(n.useEffect)((function(){})),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"Game-Container"},c.a.createElement(m,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},3:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.2403f9fc.chunk.js.map