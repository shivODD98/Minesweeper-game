(this["webpackJsonpminesweeper-game"]=this["webpackJsonpminesweeper-game"]||[]).push([[0],[,,function(e,t,a){},,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),s=(a(10),a(2),a(1));var u=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],u=Object(n.useState)(!1),i=Object(s.a)(u,2),l=i[0],f=i[1],m=e.uncoverCell,v=e.markCell,d=e.row,h=e.col,b=e.mine,O=e.count,j=e.status;Object(n.useEffect)((function(){}),[b]),Object(n.useEffect)((function(){var e;return r?e=setTimeout(E,300):clearTimeout(e),function(){clearTimeout(e)}}),[v,300,r]);var E=function(){v(d,h,"hidden"===j?"marked":"hidden"),f(!0),setTimeout((function(){f(!1)}),1e3)},g=function(e){switch(console.log(e.type),e.type){case"mousedown":o(!0);break;case"mouseup":case"mouseleave":o(!1);break;case"touchstart":o(!0);break;case"touchend":o(!1);break;case"click":l||m(d,h);break;case"contextmenu":e.preventDefault(),E()}};return c.a.createElement("div",{onClick:g,onContextMenu:g,onMouseDown:g,onMouseUp:g,onMouseLeave:g,onTouchStart:g,onTouchEnd:g,className:"grid-cell".concat("-"+j)},c.a.createElement("div",null,!0===b?"mine":""),c.a.createElement("div",null,O))};var i=function(e){var t=Object(n.useState)(1),a=Object(s.a)(t,2),r=(a[0],a[1],e.gameType),o=e.setGameType;Object(n.useEffect)((function(){}),[]);var u=function(e){o(e.target&&e.target.value)};return c.a.createElement("div",{className:"game-header"},c.a.createElement("div",{className:"game-header-dificulty"},c.a.createElement("select",{className:"game-header-difficulty-dropdown",value:r,onChange:u},c.a.createElement("option",{value:"easy"},"Easy"),c.a.createElement("option",{value:"hard"},"Hard"))),c.a.createElement("div",{className:"game-header-flags"},"POOOO"),c.a.createElement("div",{className:"game-header-time"},"000"))};var l=function(e){var t=Object(n.useState)(1),a=Object(s.a)(t,2),r=(a[0],a[1],Object(n.useState)("easy")),o=Object(s.a)(r,2),l=o[0],f=o[1],m=Object(n.useState)([]),v=Object(s.a)(m,2),d=v[0],h=v[1],b=Object(n.useState)(0),O=Object(s.a)(b,2),j=O[0],E=O[1],g=Object(n.useState)(0),p=Object(s.a)(g,2),w=p[0],y=p[1],k=Object(n.useState)(0),S=Object(s.a)(k,2),M=(S[0],S[1],Object(n.useState)(10)),N=Object(s.a)(M,2),C=N[0],T=N[1],G=Object(n.useState)(!1),H=Object(s.a)(G,2),x=H[0],D=H[1],L=Object(n.useState)(!1),W=Object(s.a)(L,2),A=W[0],B=W[1],J={cols:10,rows:8,mines:10},Y={cols:18,rows:14,mines:40};Object(n.useEffect)((function(){}),[l,f]),Object(n.useEffect)((function(){}),[j,E]),Object(n.useEffect)((function(){}),[w,y]),Object(n.useEffect)((function(){x&&q("lost")}),[x,D]),Object(n.useEffect)((function(){A&&q("won")}),[A,B]),Object(n.useEffect)((function(){}),[d,h]);var F=function(e,t){var a=[Math.ceil(e),Math.floor(t)];return t=a[1],(e=a[0])+Math.floor(Math.random()*(t-e+1))},I=function(e,t){var a="easy"===l?J:Y;return e>=0&&e<a.rows&&t>=0&&t<a.cols},P=function(e,t){for(var a,n,c=0,r=-1;r<=1;r++)for(var o=-1;o<=1;o++)c+=I(a=e+r,n=t+o)&&(d[a][n].mine?1:0);return c},U=function(e,t){if(0===j&&function(e,t){console.log("sprinkling mines");for(var a="easy"===l?J:Y,n=a.rows,c=a.cols,r=[],o=0;o<n;o++)for(var u=0;u<c;u++)(Math.abs(e-o)>2||Math.abs(t-u)>2)&&r.push([o,u]);T(Math.min(C,r.length));for(var i=0;i<C;i++){var f=F(i,r.length-1),m=[r[f],r[i]];r[i]=m[0],r[f]=m[1];var v=Object(s.a)(r[i],2),h=v[0],b=v[1];d[h][b].mine=!0}for(var O=0;O<n;O++)for(var j=0;j<c;j++)"marked"===d[O][j].status&&(d[O][j].status="hidden"),d[O][j].count=P(O,j)}(e,t),"hidden"!==d[e][t].status)return!1;!function e(t,a,n){I(t,a)&&"hidden"===d[t][a].status&&(d[t][a].status="shown",E(j+1),0===d[t][a].count&&(e(t-1,a-1,n),e(t-1,a,n),e(t-1,a+1,n),e(t,a-1,n),e(t,a+1,n),e(t+1,a-1,n),e(t+1,a,n),e(t+1,a+1,n)))}(e,t,0),d[e][t].mine&&D(!0);var a="easy"===l?J:Y,n=a.rows,c=a.cols;return function(){for(var e="easy"===l?J:Y,t=e.rows,a=e.cols,n=0,c=0;c<t;c+=1)for(var r=0;r<a;r+=1)"shown"===d[c][r].status&&n++;return n}()+C===n*c&&B(!0),!0},X=function(e,t,a){return!!I(e,t)&&("shown"!==d[e][t].status&&(y(w+("markded"==d[e][t].status?-1:1)),d[e][t].status=a,!0))},$=function(e,t){for(var a=[],n=0;n<e;n+=1){a.push([]);for(var r=0;r<t;r+=1)a[n].push(c.a.createElement(u,{uncoverCell:U,markCell:X,row:n,col:r,mine:d[n][r].mine,status:d[n][r].status,count:d[n][r].count}))}return a},q=function(e){h("lost"===e?c.a.createElement("div",{onClick:function(){return K()}},"You Lost!!! ;"):c.a.createElement("div",{onClick:function(){return K()}},"You WON!!! AHHH XD"))},z=function(){for(var e="easy"===l?J:Y,t=e.rows,a=e.cols,n=0;n<t;n+=1){d.push([]);for(var r=0;r<a;r+=1)d[n].push({row:n,col:r,mine:!1,status:"hidden",count:0})}return c.a.createElement("div",{className:l+"-grid-container"},$(t,a))},K=function(){D(!1),B(!1),E(0),T(10),h([]),z()};return c.a.createElement(n.Fragment,null,c.a.createElement(i,{gameType:l,setGameType:f,flagsLeft:0,startGame:!1}),function(){if((x||A)&&d&&"div"===d.type)return d;if(0===d.length)return z();var e="easy"===l?J:Y,t=e.rows,a=e.cols;return c.a.createElement("div",{className:l+"-grid-container"},$(t,a))}())};var f=function(){return Object(n.useEffect)((function(){})),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"Game-Container"},c.a.createElement(l,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.9dd5c13a.chunk.js.map