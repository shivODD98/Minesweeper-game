{"version":3,"sources":["components/GameCell.js","components/GameHeader.js","components/GameContainer.js","App.js","serviceWorker.js","index.js"],"names":["GameCell","props","useState","startTapHold","setStartTapHold","disableClick","setDisableClick","isMarkingCell","uncoverCell","markCell","row","col","mine","count","status","cell","useEffect","console","log","timerId","setTimeout","markCellCallBack","clearTimeout","handleCellClick","event","type","preventDefault","onClick","onContextMenu","onMouseDown","onMouseUp","onMouseLeave","onTouchStart","onTouchEnd","className","icon","faFlag","GameHeader","timer","setTimer","time","setTime","t","gameType","setGameType","flagsLeft","startGame","start","stop","setInterval","window","clearInterval","handleDifficultyChange","target","value","onChange","substr","GameContainer","gameBoard","setGameBoard","numberOfUncoveredCells","setNumberOfUncoveredCells","numberOfMarkedCells","setNumberOfMarkedCells","numberOfMines","setNumberOfMines","exploded","setExploded","win","setWin","setStartGame","easyGameBoard","cols","rows","mines","hardGameBoard","endGame","randomInt","min","max","Math","ceil","floor","random","validCoord","r","c","res","dr","dc","allowed","abs","push","length","i","j","sprinkleMines","ff","countGameBoardShownCells","newStatus","createGameCells","gameCells","key","winOrLose","restartGame","renderGameBoard","playGame","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.2403f9fc.chunk.js","sourcesContent":["import React,  {useEffect, useState  }from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faFlag } from '@fortawesome/free-solid-svg-icons'\r\nimport '../styles/App.css';\r\n\r\nfunction GameCell(props) {\r\n  const [startTapHold, setStartTapHold] = useState(false);\r\n  const [disableClick, setDisableClick] = useState(false);\r\n  const [isMarkingCell, setIsMarkingCell] = useState(false)\r\n  const ms = 1000;\r\n  const {\r\n    uncoverCell,\r\n    markCell,\r\n    row,\r\n    col,\r\n    mine,\r\n    count,\r\n    status,\r\n    cell,\r\n  } = props;\r\n\r\n  useEffect(()=> {\r\n    console.log(status)\r\n  }, [row, col, mine, count, status,cell])\r\n\r\n  useEffect(() => {\r\n    let timerId;\r\n    if (startTapHold && !disableClick) {\r\n      timerId= setTimeout(() => {\r\n        console.log('in callback' + row + ',' + col)\r\n        if(startTapHold) markCellCallBack();\r\n      }, ms);\r\n    }\r\n    return () => {\r\n      clearTimeout(timerId);\r\n    };\r\n  }, [markCell, ms, startTapHold]);\r\n\r\n  const markCellCallBack = () => {\r\n    const newStatus = status === 'hidden' ? 'marked' : 'hidden';\r\n    markCell(row, col, newStatus, isMarkingCell)\r\n    setDisableClick(true);\r\n    setTimeout(() => {setDisableClick(false);}, 500);\r\n  }\r\n\r\n  const handleCellClick = (event) => {\r\n    switch(event.type) {\r\n      case 'mousedown': {\r\n        setStartTapHold(true);\r\n        break;\r\n      }\r\n      case 'mouseup': {\r\n        setStartTapHold(false);\r\n        break;\r\n      }\r\n      case 'mouseleave': {\r\n        setStartTapHold(false);\r\n        break;\r\n      }\r\n      case 'touchstart': {\r\n        setStartTapHold(true);\r\n        break;\r\n      }\r\n      case 'touchend': {\r\n        setStartTapHold(false);\r\n        break;\r\n      }\r\n      case 'click': {\r\n        if (!disableClick){\r\n          uncoverCell(row, col)\r\n        }\r\n        break;\r\n      }\r\n      case 'contextmenu': {\r\n        event.preventDefault();\r\n        markCellCallBack();\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const renderGridCell = () => {\r\n      return (\r\n        <div \r\n          onClick={handleCellClick}\r\n          onContextMenu={handleCellClick}\r\n          onMouseDown={handleCellClick}\r\n          onMouseUp={handleCellClick}\r\n          onMouseLeave={handleCellClick}\r\n          onTouchStart={handleCellClick}\r\n          onTouchEnd={handleCellClick}\r\n          className={`grid-cell${'-' + status}`}\r\n        >\r\n            {status === 'shown' && <div className='grid-cell-count'>{count}</div>}\r\n            {status === 'marked' && <div className='grid-cell-count'><FontAwesomeIcon icon={faFlag} /></div>}\r\n        </div>\r\n      )\r\n  }\r\n\r\n  return (\r\n    renderGridCell()\r\n  );\r\n}\r\n\r\nexport default GameCell;\r\n","import React,  {useEffect, useState }from 'react';\r\nimport '../styles/App.css';\r\n\r\nfunction GameHeader(props) {\r\n  const [timer, setTimer] = useState(false);\r\n  const [time, setTime] = useState(0);\r\n  let t = 0;\r\n  const {\r\n    gameType,\r\n    setGameType,\r\n    flagsLeft,\r\n    startGame,\r\n  } = props;\r\n\r\n  useEffect(()=> {\r\n    if(startGame) {\r\n        start();\r\n    } else {\r\n        stop();\r\n    }\r\n  }, [startGame])\r\n\r\n  useEffect(()=> {\r\n  }, [time])\r\n\r\n  const start = () => {\r\n    setTimer(setInterval(function(){\r\n      t++;\r\n      setTime(t);\r\n    }, 1000));  \r\n  }\r\n\r\n  const stop = () => {\r\n    if(timer) window.clearInterval(timer);\r\n  }\r\n\r\n  const handleDifficultyChange = (event) => {\r\n    setGameType(event.target && event.target.value)\r\n  }\r\n\r\n  const renderDifficultyDropDown = () => {\r\n    return (\r\n      <div className=\"game-header-dificulty\">\r\n        <select className=\"game-header-difficulty-dropdown\" value={gameType} onChange={handleDifficultyChange}>\r\n          <option value=\"easy\">Easy</option>\r\n          <option value=\"hard\">Hard</option>\r\n        </select>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderNumberOfFlags = () => {\r\n    return (\r\n      <div className=\"game-header-flags\">Flags:{' ' + flagsLeft}</div>\r\n    )\r\n  }\r\n\r\n  const renderTime = () => {\r\n    return (\r\n      <div className=\"game-header-time\">Time:{' ' + ('000' + time).substr(-3)}</div>\r\n    )\r\n  }\r\n\r\n  const renderGameHeader = () => {\r\n    return (\r\n      <div className=\"game-header\">\r\n        {renderDifficultyDropDown()}\r\n        {renderNumberOfFlags()}\r\n        {renderTime()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    renderGameHeader()\r\n  );\r\n}\r\n\r\nexport default GameHeader;\r\n","import React,  {Fragment, useEffect, useState }from 'react';\r\nimport '../styles/App.css';\r\nimport GameCell from './GameCell';\r\nimport GameHeader from './GameHeader';\r\n\r\nfunction GameContainer(props) {\r\n  const [gameType, setGameType] = useState('easy');\r\n  const [gameBoard, setGameBoard] = useState([]);\r\n  const [numberOfUncoveredCells, setNumberOfUncoveredCells] = useState(0);\r\n  const [numberOfMarkedCells, setNumberOfMarkedCells] = useState(0);\r\n  const [numberOfMines, setNumberOfMines] = useState(10);\r\n  const [exploded, setExploded] = useState(false);\r\n  const [win, setWin] = useState(false);\r\n  const [startGame, setStartGame] = useState(false);\r\n\r\n  const easyGameBoard = {\r\n    cols: 10,\r\n    rows: 8,\r\n    mines: 10,\r\n  };\r\n\r\n  const hardGameBoard = {\r\n    cols: 18,\r\n    rows: 14,\r\n    mines: 40,\r\n  };\r\n\r\n  useEffect(()=> {\r\n  },[startGame, setStartGame])\r\n\r\n  useEffect(()=> {\r\n  },[gameType, setGameType])\r\n\r\n  useEffect(()=> {\r\n},[numberOfUncoveredCells, setNumberOfUncoveredCells])\r\n\r\n  useEffect(()=> {\r\n},[numberOfMarkedCells, setNumberOfMarkedCells])\r\n\r\n  useEffect(()=> {\r\n    if (exploded) {\r\n        endGame('lost')\r\n    }\r\n  },[exploded, setExploded])\r\n\r\n  useEffect(()=> {\r\n    if (win) {\r\n        endGame('won')\r\n    }\r\n  },[win, setWin])\r\n\r\n  useEffect(()=> {\r\n  },[gameBoard, setGameBoard])\r\n\r\n  const randomInt = (min, max) => {\r\n    [min,max] = [Math.ceil(min), Math.floor(max)]\r\n    return min + Math.floor(Math.random() * (max - min + 1));\r\n  }\r\n\r\n  const validCoord = (row, col) => {\r\n    const { rows, cols } = gameType === 'easy' ? easyGameBoard : hardGameBoard;\r\n    return row >= 0 && row < rows && col >= 0 && col < cols;\r\n}\r\n\r\n  const count = (row, col) => {\r\n    const c = (r,c) => {\r\n        return (validCoord(r, c) && (gameBoard[r][c].mine ? 1 : 0))};\r\n    let res = 0;\r\n    for( let dr = -1 ; dr <= 1 ; dr ++ )\r\n        for( let dc = -1 ; dc <= 1 ; dc ++ )\r\n            res += c(row+dr,col+dc);\r\n\r\n    return res;\r\n  }\r\n\r\n  const sprinkleMines = (row, col) => {\r\n    const { rows, cols, mines } = gameType === 'easy' ? easyGameBoard : hardGameBoard;\r\n    let allowed = [];\r\n    for(let r = 0 ; r < rows ; r ++ ) {\r\n        for( let c = 0 ; c < cols ; c ++ ) {\r\n            if(Math.abs(row-r) > 2 || Math.abs(col-c) > 2) {\r\n            allowed.push([r,c]);\r\n            }\r\n        }\r\n    }\r\n    setNumberOfMines(Math.min(numberOfMines, allowed.length))\r\n    for( let i = 0 ; i < numberOfMines ; i ++ ) {\r\n        let j = randomInt(i, allowed.length-1);\r\n        [allowed[i], allowed[j]] = [allowed[j], allowed[i]];\r\n        let [r,c] = allowed[i];\r\n        gameBoard[r][c].mine=true;\r\n    }\r\n    for(let r = 0 ; r < rows ; r ++ ) {\r\n        for( let c = 0 ; c < cols ; c ++ ) {\r\n            if(gameBoard[r][c].status === 'marked') {\r\n                gameBoard[r][c].status = 'hidden';\r\n            }\r\n            gameBoard[r][c].count = count(r,c);\r\n        }\r\n    }\r\n  }\r\n\r\n  const countGameBoardShownCells = () => {\r\n    const { rows, cols, mines } = gameType === 'easy' ? easyGameBoard : hardGameBoard;\r\n    let count = 0;\r\n    for(let i = 0; i < rows; i = i + 1) {\r\n      for(let j = 0; j < cols; j = j + 1) {\r\n        if (gameBoard[i][j].status === 'shown') {\r\n          count++;\r\n        }\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n\r\n  const uncoverCell = (row, col) => {\r\n      if (numberOfUncoveredCells === 0) {\r\n          sprinkleMines(row, col);\r\n          setStartGame(true);\r\n      }\r\n      if( gameBoard[row][col].status !== 'hidden') return false;\r\n      let cellsUncovered = 0;\r\n      const ff = (r,c, count) => {\r\n        if( ! validCoord(r,c)) return;\r\n        if( gameBoard[r][c].status !== 'hidden') return;\r\n        gameBoard[r][c].status = 'shown';\r\n        setNumberOfUncoveredCells(numberOfUncoveredCells + 1);\r\n        if( gameBoard[r][c].count !== 0) return;\r\n        ff(r-1,c-1,count);ff(r-1,c,count);ff(r-1,c+1,count);\r\n        ff(r  ,c-1,count);         ;ff(r  ,c+1,count);\r\n        ff(r+1,c-1,count);ff(r+1,c, count);ff(r+1,c+1, count);\r\n      };\r\n      ff(row,col, cellsUncovered);\r\n      if( gameBoard[row][col].mine) {\r\n        setExploded(true);\r\n      }\r\n      const { rows, cols, mines } = gameType === 'easy' ? easyGameBoard : hardGameBoard;\r\n      const shownCells = countGameBoardShownCells()\r\n      if((shownCells + numberOfMines) === (rows*cols)){\r\n        setWin(true)\r\n      }\r\n      return true;\r\n  }\r\n\r\n  const markCell = (row, col, newStatus) => {\r\n    if( ! validCoord(row,col)) return false;\r\n    if( gameBoard[row][col].status === 'shown') return false;\r\n    gameBoard[row][col].status = newStatus;\r\n    setNumberOfMarkedCells( numberOfMarkedCells + (gameBoard[row][col].status == 'marked' ? 1 : -1));\r\n    return true;\r\n  }\r\n\r\n  const createGameCells = (rows, cols) => {\r\n    const gameCells = [];\r\n    let key = 0;\r\n    for(let i = 0; i < rows; i = i + 1) {\r\n        gameCells.push([])\r\n        for(let j = 0; j < cols; j = j + 1) {\r\n            gameCells[i].push(\r\n                <GameCell\r\n                    key={key}\r\n                    uncoverCell={uncoverCell}\r\n                    markCell={markCell}\r\n                    row={i}\r\n                    col={j}\r\n                    mine={gameBoard[i][j].mine}\r\n                    status={gameBoard[i][j].status}\r\n                    count={gameBoard[i][j].count}\r\n                    cell={gameBoard[i][j]}\r\n                />\r\n            )\r\n            key++;\r\n        }\r\n    }\r\n    return gameCells;\r\n  }\r\n\r\n  const endGame = (winOrLose) => {\r\n    setGameBoard(winOrLose === 'lost' ? \r\n    (<div onClick={() => restartGame()} className=\"end-game\">You Lost!!! ;( Click here to play again.</div>) : \r\n    (<div className=\"end-game\" onClick={() => restartGame()}>You WON!!! AHHH XD Click here to play again.</div>))\r\n  }\r\n\r\n  const renderGameBoard = () => {\r\n    const { rows, cols, mines } = gameType === 'easy' ? easyGameBoard : hardGameBoard;\r\n    for(let i = 0; i < rows; i = i + 1) {\r\n        gameBoard.push([])\r\n        for(let j = 0; j < cols; j = j + 1) {\r\n            gameBoard[i].push(\r\n                {\r\n                    row: i,\r\n                    col: j,\r\n                    mine: false,\r\n                    status: 'hidden',\r\n                    count: 0,\r\n                }\r\n            )\r\n        }\r\n    }\r\n    return (\r\n        <div className={gameType + '-grid-container'}>\r\n            {createGameCells(rows, cols)}\r\n        </div>\r\n      )\r\n  }\r\n\r\n  const handleGameTypeChange = (type) => {\r\n    const { mines } = type === 'easy' ? easyGameBoard : hardGameBoard;\r\n    restartGame();\r\n    setGameType(type)\r\n    setNumberOfMines(mines);\r\n  }\r\n\r\n  const restartGame = () => {\r\n    setExploded(false);\r\n    setWin(false);\r\n    setNumberOfMarkedCells(0)\r\n    setNumberOfUncoveredCells(0);\r\n    setGameBoard([]);\r\n    renderGameBoard();\r\n  }\r\n\r\n  const playGame = () => {\r\n    if ((exploded || win) && gameBoard && gameBoard.type === 'div') {\r\n      return gameBoard;\r\n    }\r\n    if(gameBoard.length === 0) {\r\n        return renderGameBoard()\r\n    }\r\n    const { rows, cols, mines } = gameType === 'easy' ? easyGameBoard : hardGameBoard;\r\n    return (\r\n      <div className={gameType + '-grid-container'}>\r\n          {createGameCells(rows, cols)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      { (!win && !exploded) &&       \r\n        <GameHeader\r\n            gameType={gameType}\r\n            setGameType={handleGameTypeChange}\r\n            flagsLeft={numberOfMines - numberOfMarkedCells}\r\n            startGame={startGame}\r\n        />  \r\n      }\r\n        {playGame()}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default GameContainer;\r\n","import React,  {useEffect }from 'react';\nimport './styles/App.css';\nimport GameContainer from './components/GameContainer';\n\nfunction App() {\n  useEffect(()=> {\n  },)\n\n  return (\n    <div className=\"App\">\n      <div className=\"Game-Container\">\n        <GameContainer/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}